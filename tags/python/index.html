<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">



<title>
  
    Tag: python
  
</title>

<meta name="description" content="I am a software development engineer @ Amazon AWS. I graduated from UPenn and Brandeis. I hope everyone stay strong and stay healthy in these challenging times.">
<meta property="og:type" content="website">
<meta property="og:title" content="ZEXI JIN">
<meta property="og:url" content="http://yoursite.com/tags/python/index.html">
<meta property="og:site_name" content="ZEXI JIN">
<meta property="og:description" content="I am a software development engineer @ Amazon AWS. I graduated from UPenn and Brandeis. I hope everyone stay strong and stay healthy in these challenging times.">
<meta property="og:locale" content="en_US">
<meta name="twitter:card" content="summary">


  <link rel="alternative" href="/atom.xml" title="ZEXI JIN" type="application/atom+xml">



  <link rel="icon" href="/favicon.png">



<link rel="stylesheet" href="/perfect-scrollbar/css/perfect-scrollbar.min.css">


<link rel="stylesheet" href="/styles/main.css">







<meta name="generator" content="Hexo 4.2.1"></head>
<body
  
  >
  <div class="mobile-header">
  <button class="sidebar-toggle" type="button">
    <span class="icon-bar"></span>
    <span class="icon-bar"></span>
    <span class="icon-bar"></span>
  </button>
  <a class="title" href="/">ZEXI JIN</a>
</div>

  <div class="main-container">
    <div class="sidebar">
  <div class="header">
    <h1 class="title"><a href="/">ZEXI JIN</a></h1>
    
    <div class="info">
      <div class="content">
        
          <div class="description">I am a software development engineer @ Amazon AWS. I graduated from UPenn and Brandeis. I hope everyone stay strong and stay healthy in these challenging times.</div>
        
        
      </div>
      
        <div class="avatar">
          
            <a href="/about"><img src="https://i.ibb.co/XXV2FLb/Screen-Shot-2019-10-17-at-12-31-49-PM.png"></a>
          
        </div>
      
    </div>
  </div>
  <div class="body">
    
      
        <ul class="nav">
          
            
              <li class="category-list-container">
                <a href="javascript:;">Category</a>
                <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Backend-Tools/">Backend Tools</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Data-Analysis/">Data Analysis</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Data-Structure/">Data Structure</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/OS-Basics/">OS Basics</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Photos/">Photos</a><span class="category-list-count">3</span></li></ul>
              </li>
            
          
            
              <li class="tag-list-container">
                <a href="javascript:;">Tag</a>
                <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/JS/" rel="tag">JS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LeetCode/" rel="tag">LeetCode</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/algorithm/" rel="tag">algorithm</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/backtrack/" rel="tag">backtrack</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/binary-tree/" rel="tag">binary tree</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/concurrency/" rel="tag">concurrency</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/django/" rel="tag">django</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/" rel="tag">java</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node-JS/" rel="tag">node.JS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pandas/" rel="tag">pandas</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/photo/" rel="tag">photo</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/" rel="tag">python</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/roc-auc/" rel="tag">roc-auc</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sorting/" rel="tag">sorting</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/travel/" rel="tag">travel</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/traversal/" rel="tag">traversal</a><span class="tag-list-count">1</span></li></ul>
              </li>
            
          
            
              <li class="archive-list-container">
                <a href="javascript:;">Archive</a>
                <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/">2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/">2019</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/">2018</a><span class="archive-list-count">1</span></li></ul>
              </li>
            
          
        </ul>
      
        <ul class="nav">
          
            
              <li>
                <a href="/" title="Homepage" external="false">Homepage</a>
              </li>
            
          
            
              <li>
                <a href="/about" title="About" external="false">About</a>
              </li>
            
          
        </ul>
      
    
  </div>
</div>

    <div class="main-content">
      
        <div style="max-width: 1000px">
      
          <h1>python</h1>


  
  
    <div class="post-list">
  

    <div class="post-list-item article">
      <h3 class="article-header">
        <a href="/2019/11/21/pandas-random-note-2/" >
  Random Pandas Notes, Note 2
</a>

      </h3>
      

      <div class="article-info">
        <a href="/2019/11/21/pandas-random-note-2/"><span class="article-date">
  2019-11-21
</span>
</a>
        
	<span class="article-category tagcloud">
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Data-Analysis/">Data Analysis</a></li></ul>
	</span>


        
	<span class="article-tag tagcloud">
		<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/pandas/" rel="tag">pandas</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/" rel="tag">python</a></li></ul>
	</span>


      </div>
      <div class="article-entry">
        
          <p>Reference: <a href="https://www.mikulskibartosz.name/how-to-split-a-list-inside-a-dataframe-cell-into-rows-in-pandas/" target="_blank" rel="noopener">https://www.mikulskibartosz.name/how-to-split-a-list-inside-a-dataframe-cell-into-rows-in-pandas/</a></p>
<p>Given a table containing a column of lists, like:</p>
<table>
<thead>
<tr>
<th align="left">id</th>
<th align="left">name</th>
<th align="left">tags</th>
</tr>
</thead>
<tbody><tr>
<td align="left">1</td>
<td align="left">winter squash</td>
<td align="left">[‘60-minutes’, ‘time-to-make’, ‘healthy’]</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">braised pork</td>
<td align="left">[‘2-hours-more’, ‘time-to-make’, ‘chinese’]</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">chilli Beef</td>
<td align="left">[‘4-hours-more’, ‘chinese’]</td>
</tr>
</tbody></table>
<p>Like the ‘unwind’ function in mongodb, to turn it into:</p>
<table>
<thead>
<tr>
<th align="left">id</th>
<th align="left">name</th>
<th align="left">tags</th>
</tr>
</thead>
<tbody><tr>
<td align="left">1</td>
<td align="left">winter squash</td>
<td align="left">‘60-minutes’</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">winter squash</td>
<td align="left">‘time-to-make’</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">winter squash</td>
<td align="left">‘healthy’</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">braised pork</td>
<td align="left">‘2-hours-more’</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">braised pork</td>
<td align="left">‘time-to-make’</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">braised pork</td>
<td align="left">‘chinese’</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">chilli Beef</td>
<td align="left">‘4-hours-more’</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">chilli Beef</td>
<td align="left">‘chinese’</td>
</tr>
</tbody></table>
<p>Here’s who we do it:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">tags_df[<span class="string">'tags'</span>] = tags_df.tags.apply(<span class="keyword">lambda</span> x: x[<span class="number">1</span>:<span class="number">-1</span>].split(<span class="string">','</span>))</span><br><span class="line">clean_tag_df = tags_df.tags.apply(pd.Series).merge(tags_df, right_index = <span class="literal">True</span>, left_index = <span class="literal">True</span>) \</span><br><span class="line">    .drop([<span class="string">"tags"</span>], axis = <span class="number">1</span>) \</span><br><span class="line">    .melt(id_vars = [<span class="string">'recipe_id'</span>], value_name = <span class="string">"tags"</span>) \</span><br><span class="line">    .drop(<span class="string">"variable"</span>, axis = <span class="number">1</span>).dropna()</span><br></pre></td></tr></table></figure>

<p>Breaking it down, we have the following to turn the tags from a string into a list of strings.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tags_df[<span class="string">'tags'</span>] = tags_df.tags.apply(<span class="keyword">lambda</span> x: x[<span class="number">1</span>:<span class="number">-1</span>].split(<span class="string">','</span>))</span><br></pre></td></tr></table></figure>

<p>Next step, turning a list of tags into multiple columns:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tags_df.tags.apply(pd.Series)</span><br></pre></td></tr></table></figure>

<p>It turns the chart like:</p>
<table>
<thead>
<tr>
<th align="left">1</th>
<th align="left">2</th>
<th align="left">3</th>
</tr>
</thead>
<tbody><tr>
<td align="left">‘60-minutes’</td>
<td align="left">‘time-to-make’</td>
<td align="left">‘healthy’</td>
</tr>
<tr>
<td align="left">‘2-hours-more’</td>
<td align="left">‘time-to-make’</td>
<td align="left">‘chinese’</td>
</tr>
<tr>
<td align="left">‘4-hours-more’</td>
<td align="left">‘chinese’</td>
<td align="left">NaN</td>
</tr>
</tbody></table>
<p>Then, we join tags with the rest of the list:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">prev_df.merge(tags_df, right_index = <span class="literal">True</span>, left_index = <span class="literal">True</span>)</span><br></pre></td></tr></table></figure>

<p>Then, we drop the duplicated “tags” column and unwind different columns of the tags into different rows:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">prev_df.drop([<span class="string">"tags"</span>], axis = <span class="number">1</span>).melt(id_vars = [<span class="string">'recipe_id'</span>], value_name = <span class="string">"tags"</span>)</span><br></pre></td></tr></table></figure>

<p>Lastly, we remove the “variable” column, which we might not need:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">prev_df.drop(<span class="string">"variable"</span>, axis = <span class="number">1</span>).dropna()</span><br></pre></td></tr></table></figure>
        
      </div>
    </div>

  
    </div>
  

  
  
    <div class="post-list">
  

    <div class="post-list-item article">
      <h3 class="article-header">
        <a href="/2019/10/19/pandas-random-note-1/" >
  Random Pandas Notes, Note 1
</a>

      </h3>
      

      <div class="article-info">
        <a href="/2019/10/19/pandas-random-note-1/"><span class="article-date">
  2019-10-19
</span>
</a>
        
	<span class="article-category tagcloud">
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Data-Analysis/">Data Analysis</a></li></ul>
	</span>


        
	<span class="article-tag tagcloud">
		<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/pandas/" rel="tag">pandas</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/" rel="tag">python</a></li></ul>
	</span>


      </div>
      <div class="article-entry">
        
          <p>To change a row value based on more than one conditions, use the following:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df[<span class="string">'A'</span>] = np.where(((df[<span class="string">'B'</span>] == <span class="string">'some_value'</span>) &amp; (df[<span class="string">'C'</span>] == <span class="string">'some_other_value'</span>)), true_value, false_value)</span><br></pre></td></tr></table></figure>
<p>Another equally efficient approach is using loc:<br>Note that this method does not give a default value when the condition is not met. So, the same code might be required to run twice or using .fillna() method.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.loc[(df.B == <span class="string">'some_value'</span>) | (df.C == <span class="string">'some_other_value'</span>), <span class="string">'A'</span>] = true_value</span><br></pre></td></tr></table></figure>
<p>ps: for ‘and’ or ‘or’ operation, use symbol ‘&amp;’ or ‘|’.</p>

        
      </div>
    </div>

  
    </div>
  

  
  
    <div class="post-list">
  

    <div class="post-list-item article">
      <h3 class="article-header">
        <a href="/2019/10/13/sorting-1/" >
  A Brief Summary of Sorting Algorithm, Part 1
</a>

      </h3>
      

      <div class="article-info">
        <a href="/2019/10/13/sorting-1/"><span class="article-date">
  2019-10-13
</span>
</a>
        
	<span class="article-category tagcloud">
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Data-Structure/">Data Structure</a></li></ul>
	</span>


        
	<span class="article-tag tagcloud">
		<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/algorithm/" rel="tag">algorithm</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/" rel="tag">python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/sorting/" rel="tag">sorting</a></li></ul>
	</span>


      </div>
      <div class="article-entry">
        
          <ol>
<li>Basics:<ul>
<li>in-place sorting vs. out-place sorting</li>
<li>internal sorting vs. external sorting</li>
<li>stable vs. unstable sorting</li>
</ul>
</li>
<li>Bubble Sort</li>
<li>Selection Sort</li>
<li>Insertion Sort</li>
<li>Merge Sort</li>
<li>Quick Sort</li>
<li>Heap Sort</li>
</ol>
<h2 id="Internal-vs-external-sorting"><a href="#Internal-vs-external-sorting" class="headerlink" title="Internal vs. external sorting"></a>Internal vs. external sorting</h2><p>Internal sorting and external sorting describes where the sorting occurs:</p>
<ul>
<li>internal sorting located entirely in memory</li>
<li>external sorting utilizes hard disk and external storage</li>
</ul>
<h2 id="Stable-vs-unstable-sorting"><a href="#Stable-vs-unstable-sorting" class="headerlink" title="Stable vs. unstable sorting"></a>Stable vs. unstable sorting</h2><p>A sorting algorithm is said to be stable if two objects with equal keys appear in the same order in sorted output as they appear in the input array to be sorted.</p>
<ul>
<li>stable sorting algorithms includes:<ol>
<li>Bubble Sort</li>
<li>Insertion Sort</li>
<li>Merge Sort</li>
<li>Count Sort</li>
</ol>
</li>
</ul>
<h2 id="Bubble-Sort"><a href="#Bubble-Sort" class="headerlink" title="Bubble Sort"></a>Bubble Sort</h2><p>Bubble Sort is a type of stable sorting algorithm. The algorithm compares two elements that are next to each other and swap two element is the left one is larger than the right one. Time complexity of bubble sort is O(n*n).</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bubbleSort</span><span class="params">(arr)</span>:</span> </span><br><span class="line">    n = len(arr) </span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(n): </span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">0</span>, n-i<span class="number">-1</span>): </span><br><span class="line">            <span class="keyword">if</span> arr[j] &gt; arr[j+<span class="number">1</span>] : </span><br><span class="line">                arr[j], arr[j+<span class="number">1</span>] = arr[j+<span class="number">1</span>], arr[j] </span><br><span class="line">    <span class="keyword">return</span> arr</span><br></pre></td></tr></table></figure>

<h2 id="Selection-Sort"><a href="#Selection-Sort" class="headerlink" title="Selection Sort"></a>Selection Sort</h2><p>In every iteration of selection sort, the minimum element (considering ascending order) from the unsorted subarray is picked and moved to the sorted sub-array. Selection sort can be done stably. Time complexity of selection sort is O(n*n).</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">selectionSort</span><span class="params">(arr)</span>:</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(arr)): </span><br><span class="line">        min_idx = i </span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(i+<span class="number">1</span>, len(arr)): </span><br><span class="line">            <span class="keyword">if</span> arr[min_idx] &gt; arr[j]: </span><br><span class="line">                min_idx = j </span><br><span class="line">        tmp = arr[i]</span><br><span class="line">        arr[i] = arr[min_idx]</span><br><span class="line">        arr[min_idx] = tmp</span><br><span class="line">    <span class="keyword">return</span> arr</span><br></pre></td></tr></table></figure>

<h2 id="Insertion-Sort"><a href="#Insertion-Sort" class="headerlink" title="Insertion Sort"></a>Insertion Sort</h2><p>Insertion sort is stable. In every iteration of insertion sort, the first element is selected and inserted into the correct location in the sorted half of the array. Time complexity of Insertion sort is O(n*n).</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">insertionSort</span><span class="params">(arr)</span>:</span> </span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, len(arr)): </span><br><span class="line">        key = arr[i] </span><br><span class="line">        j = i<span class="number">-1</span></span><br><span class="line">        <span class="keyword">while</span> j &gt;= <span class="number">0</span> <span class="keyword">and</span> key &lt; arr[j] : </span><br><span class="line">                arr[j + <span class="number">1</span>] = arr[j] </span><br><span class="line">                j -= <span class="number">1</span></span><br><span class="line">        arr[j + <span class="number">1</span>] = key </span><br><span class="line">    <span class="keyword">return</span> arr</span><br></pre></td></tr></table></figure>

<h2 id="Merge-Sort"><a href="#Merge-Sort" class="headerlink" title="Merge Sort"></a>Merge Sort</h2><p>Merge sort is stable. Merge Sort is a Divide and Conquer algorithm. It divides input array in two halves, calls itself for the two halves and then merges the two sorted halves. Time complexity is O(n*log(n)).</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mergeSort</span><span class="params">(arr)</span>:</span> </span><br><span class="line">    <span class="keyword">if</span> len(arr) &gt;<span class="number">1</span>: </span><br><span class="line">        mid = len(arr)//<span class="number">2</span></span><br><span class="line">        L = mergeSort(arr[:mid])</span><br><span class="line">        R = mergeSort(arr[mid:])</span><br><span class="line">        i = j = k = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> i &lt; len(L) <span class="keyword">and</span> j &lt; len(R): </span><br><span class="line">            <span class="keyword">if</span> L[i] &lt; R[j]: </span><br><span class="line">                arr[k] = L[i] </span><br><span class="line">                i+=<span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>: </span><br><span class="line">                arr[k] = R[j] </span><br><span class="line">                j+=<span class="number">1</span></span><br><span class="line">            k+=<span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> i &lt; len(L): </span><br><span class="line">            arr[k] = L[i] </span><br><span class="line">            i+=<span class="number">1</span></span><br><span class="line">            k+=<span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> j &lt; len(R): </span><br><span class="line">            arr[k] = R[j] </span><br><span class="line">            j+=<span class="number">1</span></span><br><span class="line">            k+=<span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> arr</span><br></pre></td></tr></table></figure>

<h2 id="Quick-Sort"><a href="#Quick-Sort" class="headerlink" title="Quick Sort"></a>Quick Sort</h2><p>For quick sort, we pick a random element as pivot. Compare each element with the pivot to create first half of the list smaller than the pivot and the second half larger than the pivot. After that, quick sort divide conquer two halves. Time complexity for quick sort is O(n<em>log(n)), worst case is O(n</em>n). Quick sort can be made stable.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">partition</span><span class="params">(arr,low,high)</span>:</span> </span><br><span class="line">    i = (low<span class="number">-1</span>)</span><br><span class="line">    pivot = arr[high]</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(low , high): </span><br><span class="line">        <span class="keyword">if</span>   arr[j] &lt; pivot: </span><br><span class="line">            i = i+<span class="number">1</span> </span><br><span class="line">            arr[i],arr[j] = arr[j],arr[i] </span><br><span class="line">    arr[i+<span class="number">1</span>],arr[high] = arr[high],arr[i+<span class="number">1</span>] </span><br><span class="line">    <span class="keyword">return</span> ( i+<span class="number">1</span> ) </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">quickSort</span><span class="params">(arr,low,high)</span>:</span> </span><br><span class="line">    <span class="keyword">if</span> low &lt; high: </span><br><span class="line">        pi = partition(arr,low,high) </span><br><span class="line">        quickSort(arr, low, pi<span class="number">-1</span>) </span><br><span class="line">        quickSort(arr, pi+<span class="number">1</span>, high)</span><br></pre></td></tr></table></figure>

<h2 id="Heap-Sort"><a href="#Heap-Sort" class="headerlink" title="Heap Sort"></a>Heap Sort</h2><ol>
<li>Build a max heap from the input data.</li>
<li>At this point, the largest item is stored at the root of the heap. Replace it with the last item of the heap followed by reducing the size of heap by 1. Finally, heapify the root of tree.</li>
<li>Repeat above steps while size of heap is greater than 1.<br>Heapify: this procedure calls itself recursively to move the max value to the top of the heap. Time complexity for heapify is O(log(n)) and time complexity for building a heap is O(n). Thus, heap sort gives the overall time complexity as O(n*log(n)).<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">heapify</span><span class="params">(arr, n, i)</span>:</span> </span><br><span class="line">    largest = i <span class="comment"># Initialize largest as root </span></span><br><span class="line">    l = <span class="number">2</span> * i + <span class="number">1</span>     <span class="comment"># left = 2*i + 1 </span></span><br><span class="line">    r = <span class="number">2</span> * i + <span class="number">2</span>     <span class="comment"># right = 2*i + 2 </span></span><br><span class="line">    <span class="comment"># left child  </span></span><br><span class="line">    <span class="keyword">if</span> l &lt; n <span class="keyword">and</span> arr[i] &lt; arr[l]: </span><br><span class="line">        largest = l </span><br><span class="line">    <span class="comment"># right child</span></span><br><span class="line">    <span class="keyword">if</span> r &lt; n <span class="keyword">and</span> arr[largest] &lt; arr[r]: </span><br><span class="line">        largest = r </span><br><span class="line">    <span class="comment"># change the root </span></span><br><span class="line">    <span class="keyword">if</span> largest != i: </span><br><span class="line">        arr[i],arr[largest] = arr[largest],arr[i] <span class="comment"># swap </span></span><br><span class="line">        <span class="comment"># Heapify upward </span></span><br><span class="line">        heapify(arr, n, largest) </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">heapSort</span><span class="params">(arr)</span>:</span> </span><br><span class="line">    n = len(arr) </span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(n, <span class="number">-1</span>, <span class="number">-1</span>): </span><br><span class="line">        heapify(arr, n, i) </span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(n<span class="number">-1</span>, <span class="number">0</span>, <span class="number">-1</span>): </span><br><span class="line">        arr[i], arr[<span class="number">0</span>] = arr[<span class="number">0</span>], arr[i] <span class="comment"># swap </span></span><br><span class="line">        heapify(arr, i, <span class="number">0</span>) </span><br><span class="line">    <span class="keyword">return</span> a</span><br></pre></td></tr></table></figure></li>
</ol>

        
      </div>
    </div>

  
    </div>
  

  
  
    <div class="post-list">
  

    <div class="post-list-item article">
      <h3 class="article-header">
        <a href="/2019/01/20/django-note-1/" >
  Django Basics, Part 1
</a>

      </h3>
      

      <div class="article-info">
        <a href="/2019/01/20/django-note-1/"><span class="article-date">
  2019-01-20
</span>
</a>
        
	<span class="article-category tagcloud">
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Backend-Tools/">Backend Tools</a></li></ul>
	</span>


        
	<span class="article-tag tagcloud">
		<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/django/" rel="tag">django</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/" rel="tag">python</a></li></ul>
	</span>


      </div>
      <div class="article-entry">
        
          <h2 id="Django-directory-levels"><a href="#Django-directory-levels" class="headerlink" title="Django directory levels"></a>Django directory levels</h2><ol>
<li>manage.py: we use this to communicate with Django server</li>
<li>project directory:<ol>
<li>__init__.py: tells Django to use directory as a python package</li>
<li>settings.py: Django configuration file</li>
<li>urls.py: url schema</li>
<li>wsgi.py: project and wsgi integration web server</li>
</ol>
</li>
</ol>
<h2 id="Database-MySQL-config"><a href="#Database-MySQL-config" class="headerlink" title="Database (MySQL) config"></a>Database (MySQL) config</h2><ul>
<li>dependencies used:<br>mysql 5.7.24 h56848d4_0<br>mysql-connector-c 6.1.11 hccea1a4_0<br>mysql-connector-python 8.0.17 py27h3febbb0_0 anaconda<br>mysql-python 1.2.5 py27h1de35cc_0 anaconda<br>pymysql 0.9.3 py27_0</li>
<li>__init__.py:, add the following code:<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line">pymysql.install_as_MySQLdb()</span><br></pre></td></tr></table></figure></li>
<li>in settings.py: add database configurations to connect to the database<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">DATABASES = &#123;</span><br><span class="line">    <span class="string">'default'</span>: &#123;</span><br><span class="line">        <span class="string">'ENGINE'</span>: <span class="string">'django.db.backends.mysql'</span>,</span><br><span class="line">        <span class="string">'NAME'</span>: <span class="comment"># server name</span></span><br><span class="line">        <span class="string">'USER'</span>: <span class="comment"># user name</span></span><br><span class="line">        <span class="string">'PASSWORD'</span>: <span class="comment"># password</span></span><br><span class="line">        <span class="string">'HOST'</span>: <span class="string">'localhost'</span>,</span><br><span class="line">        <span class="string">'PORT'</span>: <span class="string">'3306'</span>,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="Init-new-application"><a href="#Init-new-application" class="headerlink" title="Init new application"></a>Init new application</h2><ul>
<li>init new application:<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python manage.py startapp &lt;myApp&gt;</span><br></pre></td></tr></table></figure></li>
<li>codes above creates:<ul>
<li>admin.py: website config</li>
<li>models.py: model</li>
<li>views.py: view</li>
</ul>
</li>
<li>In setting, add to INSTALLED_APP:<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">INSTALLED_APPS = [</span><br><span class="line">    <span class="string">'django.contrib.admin'</span>,</span><br><span class="line">    <span class="string">'django.contrib.auth'</span>,</span><br><span class="line">    <span class="string">'django.contrib.contenttypes'</span>,</span><br><span class="line">    <span class="string">'django.contrib.sessions'</span>,</span><br><span class="line">    <span class="string">'django.contrib.messages'</span>,</span><br><span class="line">    <span class="string">'django.contrib.staticfiles'</span>,</span><br><span class="line">    <span class="string">'myApp'</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="models-py-file"><a href="#models-py-file" class="headerlink" title="models.py file"></a>models.py file</h2><ul>
<li>the following is an example of models.py<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">from</span> __future__ <span class="keyword">import</span> unicode_literals</span><br><span class="line"><span class="keyword">from</span> django.db <span class="keyword">import</span> models</span><br><span class="line"></span><br><span class="line"><span class="comment"># Create your models here.</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Grades</span><span class="params">(models.Model)</span>:</span></span><br><span class="line">    gname = models.CharField(max_length=<span class="number">20</span>)</span><br><span class="line">    gdate = models.DateTimeField()</span><br><span class="line">    ggirlnum = models.IntegerField()</span><br><span class="line">    gboynum = models.IntegerField()</span><br><span class="line">    isDelete = models.BooleanField(default=<span class="literal">False</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">"%s-%d-%d"</span>%(self.gname, self.gboynum, self.ggrilnum)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Students</span><span class="params">(models.Model)</span>:</span></span><br><span class="line">    sname = models.CharField(max_length=<span class="number">20</span>)</span><br><span class="line">    sgender = models.BooleanField(default=<span class="literal">True</span>)</span><br><span class="line">    sage = models.IntegerField()</span><br><span class="line">    scontend = models.CharField(max_length=<span class="number">20</span>)</span><br><span class="line">    isDelete = models.BooleanField(default=<span class="literal">False</span>)</span><br><span class="line">    sgrade = models.ForeignKey(<span class="string">"Grades"</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></span><br><span class="line">            <span class="keyword">return</span> <span class="string">"%s-%d-%s"</span>%(self.sname, self.sage, self.scontend)</span><br></pre></td></tr></table></figure></li>
<li>make migration and execute migration file: will create database according to models.py<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">python manage.py makemigrations <span class="comment"># create migration file</span></span><br><span class="line">python manage.py migrate        <span class="comment"># execute migration file</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="To-add-new-entries-with-manage-py-shell-commands"><a href="#To-add-new-entries-with-manage-py-shell-commands" class="headerlink" title="To add new entries with manage.py shell commands"></a>To add new entries with manage.py shell commands</h2><ol>
<li>enter shell:<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python manage.py shell</span><br></pre></td></tr></table></figure></li>
<li>import packages in shell:<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> myApp.models <span class="keyword">import</span> Grades, Students</span><br><span class="line"><span class="keyword">from</span> django.utils <span class="keyword">import</span> timezone</span><br><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> *</span><br></pre></td></tr></table></figure></li>
<li>add new entry to db:<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">grade1 = Grades()</span><br><span class="line">grade1.gname = <span class="string">"something"</span></span><br><span class="line">grade1.gdate = datetime(year=,month=,day=)</span><br><span class="line">grade1.ggirlnum = <span class="number">70</span></span><br><span class="line">grade1.gboynum = <span class="number">35</span></span><br><span class="line">grade1.save()</span><br></pre></td></tr></table></figure></li>
<li>some other command:<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Grades.objects.all()    <span class="comment"># get all data entries in Grades</span></span><br><span class="line">g = Grades.objects.get(pk=<span class="number">1</span>)    <span class="comment"># get the 1st object in Grades</span></span><br><span class="line">g.gboynum = <span class="number">45</span></span><br><span class="line">g.save()    <span class="comment"># alternate existing data</span></span><br><span class="line">d.delete()  <span class="comment"># delete, including the one in db</span></span><br><span class="line">stu1 = g.students_set.create(sname=...)     <span class="comment"># add new student with one line</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="To-run-server"><a href="#To-run-server" class="headerlink" title="To run server"></a>To run server</h2><ul>
<li>execute:<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python manage.py runserver ip:port</span><br></pre></td></tr></table></figure></li>
<li>Admin:<ul>
<li>publish content</li>
<li>add/modify/delete content</li>
<li>add “‘django.contrib.admin’” in INSTALLED_APPS</li>
<li>exists by defualt</li>
<li>add “/admin” and log in</li>
<li>change language or timezone based on preference</li>
</ul>
</li>
</ul>
<p>(to be continued…)</p>

        
      </div>
    </div>

  
    </div>
  






          <div class="main-footer">
  
    © 2020 ZEXI JIN - Powered by <a href="http://hexo.io" target="_blank">Hexo</a> - Theme <a href="https://github.com/denjones/hexo-theme-chan" target="_blank">Chan</a>
  
</div>

      
        </div>
      
    </div>
  </div>
  
<script src="//apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>


  
<link rel="stylesheet" href="/PhotoSwipe/photoswipe.css">

  
<link rel="stylesheet" href="/PhotoSwipe/default-skin/default-skin.css">


  <!-- Root element of PhotoSwipe. Must have class pswp. -->
  <div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe.
             It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

      <!-- Container that holds slides.
                PhotoSwipe keeps only 3 of them in the DOM to save memory.
                Don't modify these 3 pswp__item elements, data is added later on. -->
      <div class="pswp__container">
        <div class="pswp__item"></div>
        <div class="pswp__item"></div>
        <div class="pswp__item"></div>
      </div>

      <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
      <div class="pswp__ui pswp__ui--hidden">

        <div class="pswp__top-bar">

          <!--  Controls are self-explanatory. Order can be changed. -->

          <div class="pswp__counter"></div>

          <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

          <button class="pswp__button pswp__button--share" title="Share"></button>

          <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

          <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

          <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
          <!-- element will get class pswp__preloader--active when preloader is running -->
          <div class="pswp__preloader">
            <div class="pswp__preloader__icn">
              <div class="pswp__preloader__cut">
                <div class="pswp__preloader__donut"></div>
              </div>
            </div>
          </div>
        </div>

        <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
          <div class="pswp__share-tooltip"></div>
        </div>

        <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>

        <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button>

        <div class="pswp__caption">
          <div class="pswp__caption__center"></div>
        </div>
      </div>
    </div>
  </div>

  
<script src="/PhotoSwipe/photoswipe.js"></script>

  
<script src="/PhotoSwipe/photoswipe-ui-default.js"></script>




<script src="/perfect-scrollbar/js/min/perfect-scrollbar.min.js"></script>


<script src="/scripts/main.js"></script>


</body>
</html>
